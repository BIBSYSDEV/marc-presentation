import MockAdapter from 'axios-mock-adapter';
import Axios from 'axios';
import { ALMA_API_URL, AUTHORITY_API_URL } from './constants';

const mockAlmaResponse = [
  {
    id: '999208985724702201',
    mainTitle: 'Lensvik indremisjon 101 år :',
    parallelTitle: '1891-1991',
    authors: [
      {
        name: 'Singstad, Knut N.',
        date: '1923-1996',
        id: '(NO-TrBIB)90386146',
      },
    ],
    year: '[1991]',
    publisher: 'Indremisjonsselskapet',
    xmlPresentation:
      '\u003crecord xmlns\u003d"http://www.loc.gov/MARC21/slim"\u003e\n    \u003cleader\u003e01626cam a2200433 c 4500\u003c/leader\u003e\n    \u003ccontrolfield tag\u003d"001"\u003e999208985724702201\u003c/controlfield\u003e\n    \u003ccontrolfield tag\u003d"005"\u003e20210531145056.0\u003c/controlfield\u003e\n    \u003ccontrolfield tag\u003d"007"\u003eta\u003c/controlfield\u003e\n    \u003ccontrolfield tag\u003d"007"\u003ecr||||||||||||\u003c/controlfield\u003e\n    \u003ccontrolfield tag\u003d"008"\u003e110414s1991    no ||||| |||||010|0|nob|^\u003c/controlfield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"015"\u003e\n        \u003csubfield code\u003d"a"\u003e1115131\u003c/subfield\u003e\n        \u003csubfield code\u003d"2"\u003enbf\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"020"\u003e\n        \u003csubfield code\u003d"q"\u003eh.\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"035"\u003e\n        \u003csubfield code\u003d"a"\u003e920898572-47bibsys_network\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"035"\u003e\n        \u003csubfield code\u003d"a"\u003e(NO-TrBIB)920898572\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"035"\u003e\n        \u003csubfield code\u003d"a"\u003e(NO-TrBIB)093100353\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"040"\u003e\n        \u003csubfield code\u003d"a"\u003eNO-OsNB\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003enob\u003c/subfield\u003e\n        \u003csubfield code\u003d"e"\u003ekatreg\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"042"\u003e\n        \u003csubfield code\u003d"a"\u003enorbibl\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"044"\u003e\n        \u003csubfield code\u003d"c"\u003eno\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"7" ind2\u003d"4" tag\u003d"082"\u003e\n        \u003csubfield code\u003d"a"\u003e266.022\u003c/subfield\u003e\n        \u003csubfield code\u003d"q"\u003eNO-OsNB\u003c/subfield\u003e\n        \u003csubfield code\u003d"2"\u003e4/nor\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"084"\u003e\n        \u003csubfield code\u003d"a"\u003eDd 40(Jc 28)\u003c/subfield\u003e\n        \u003csubfield code\u003d"2"\u003eubtkl/2\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"084"\u003e\n        \u003csubfield code\u003d"a"\u003eUcf\u003c/subfield\u003e\n        \u003csubfield code\u003d"2"\u003eknt\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"1" ind2\u003d" " tag\u003d"100"\u003e\n        \u003csubfield code\u003d"a"\u003eSingstad, Knut N.\u003c/subfield\u003e\n        \u003csubfield code\u003d"d"\u003e1923-1996\u003c/subfield\u003e\n        \u003csubfield code\u003d"0"\u003e(NO-TrBIB)90386146\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"1" ind2\u003d"0" tag\u003d"245"\u003e\n        \u003csubfield code\u003d"a"\u003eLensvik indremisjon 100 år :\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003e1891-1991\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"260"\u003e\n        \u003csubfield code\u003d"a"\u003e[Oslo]\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003eIndremisjonsselskapet\u003c/subfield\u003e\n        \u003csubfield code\u003d"c"\u003e[1991]\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"300"\u003e\n        \u003csubfield code\u003d"a"\u003e44 s.\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003eill.\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"500"\u003e\n        \u003csubfield code\u003d"a"\u003eForfatterens navn i forordet\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"0" ind2\u003d" " tag\u003d"506"\u003e\n        \u003csubfield code\u003d"f"\u003eÅpen tilgang\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"533"\u003e\n        \u003csubfield code\u003d"a"\u003eElektronisk reproduksjon\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003e[Norge]\u003c/subfield\u003e\n        \u003csubfield code\u003d"c"\u003eNasjonalbiblioteket Digital\u003c/subfield\u003e\n        \u003csubfield code\u003d"d"\u003e2009-08-29\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"2" ind2\u003d"7" tag\u003d"610"\u003e\n        \u003csubfield code\u003d"a"\u003eLensvik indremisjon\u003c/subfield\u003e\n        \u003csubfield code\u003d"0"\u003e(NO-TrBIB)90607704\u003c/subfield\u003e\n        \u003csubfield code\u003d"2"\u003ebare\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d"7" tag\u003d"651"\u003e\n        \u003csubfield code\u003d"a"\u003eLensvik (Agdenes)\u003c/subfield\u003e\n        \u003csubfield code\u003d"2"\u003enorbok\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"653"\u003e\n        \u003csubfield code\u003d"a"\u003eagdenes\u003c/subfield\u003e\n        \u003csubfield code\u003d"a"\u003eindremisjon\u003c/subfield\u003e\n        \u003csubfield code\u003d"a"\u003esør-trøndelag\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"662"\u003e\n        \u003csubfield code\u003d"a"\u003eNorge\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003eTrøndelag\u003c/subfield\u003e\n        \u003csubfield code\u003d"c"\u003eOrkland\u003c/subfield\u003e\n        \u003csubfield code\u003d"d"\u003eLensvik\u003c/subfield\u003e\n        \u003csubfield code\u003d"2"\u003enorbok\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"2" ind2\u003d" " tag\u003d"710"\u003e\n        \u003csubfield code\u003d"a"\u003eLensvik indremisjon\u003c/subfield\u003e\n        \u003csubfield code\u003d"0"\u003e(NO-TrBIB)90607704\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"2" ind2\u003d" " tag\u003d"710"\u003e\n        \u003csubfield code\u003d"a"\u003eIndremisjonsselskapet\u003c/subfield\u003e\n        \u003csubfield code\u003d"0"\u003e(NO-TrBIB)90149311\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"4" ind2\u003d"0" tag\u003d"856"\u003e\n        \u003csubfield code\u003d"3"\u003eFulltekst\u003c/subfield\u003e\n        \u003csubfield code\u003d"u"\u003ehttp://urn.nb.no/URN:NBN:no-nb_digibok_2009072100102\u003c/subfield\u003e\n        \u003csubfield code\u003d"y"\u003eNB digitalisert\u003c/subfield\u003e\n        \u003csubfield code\u003d"z"\u003eElektronisk reproduksjon. Gratis. For norske IP-adresser\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"4" ind2\u003d"1" tag\u003d"856"\u003e\n        \u003csubfield code\u003d"3"\u003eFulltekst\u003c/subfield\u003e\n        \u003csubfield code\u003d"u"\u003ehttps://www.nb.no/search?q\u003doaiid:"oai:nb.bibsys.no:999208985724702202"\u0026amp;mediatype\u003dbøker\u003c/subfield\u003e\n        \u003csubfield code\u003d"y"\u003eNettbiblioteket\u003c/subfield\u003e\n        \u003csubfield code\u003d"z"\u003eSøke-URL\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"0" ind2\u003d"1" tag\u003d"852"\u003e\n        \u003csubfield code\u003d"a"\u003e47BIBSYS_NB\u003c/subfield\u003e\n        \u003csubfield code\u003d"6"\u003e999208985724702202\u003c/subfield\u003e\n        \u003csubfield code\u003d"9"\u003eD\u003c/subfield\u003e\n        \u003csubfield code\u003d"9"\u003eP\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d"0" ind2\u003d"1" tag\u003d"852"\u003e\n        \u003csubfield code\u003d"a"\u003e47BIBSYS_NTNU_UB\u003c/subfield\u003e\n        \u003csubfield code\u003d"6"\u003e999208985724702203\u003c/subfield\u003e\n        \u003csubfield code\u003d"9"\u003eP\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"901"\u003e\n        \u003csubfield code\u003d"a"\u003e90\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"913"\u003e\n        \u003csubfield code\u003d"a"\u003eNorbok\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003eNB\u003c/subfield\u003e\n    \u003c/datafield\u003e\n    \u003cdatafield ind1\u003d" " ind2\u003d" " tag\u003d"913"\u003e\n        \u003csubfield code\u003d"a"\u003eNorsk lokalhistorisk bibliografi\u003c/subfield\u003e\n        \u003csubfield code\u003d"b"\u003eNB\u003c/subfield\u003e\n    \u003c/datafield\u003e\n\u003c/record\u003e\n',
    linePresentation:
      '*ldr 01626cam a2200433 c 4500\n*001 999208985724702201\n*005 20210531145056.0\n*007 ta\n*007 cr||||||||||||\n*008 110414s1991    no ||||| |||||010|0|nob|^\n*015## $a1115131 $2nbf\n*020## $qh.\n*035## $a920898572-47bibsys_network\n*035## $a(NO-TrBIB)920898572\n*035## $a(NO-TrBIB)093100353\n*040## $aNO-OsNB $bnob $ekatreg\n*042## $anorbibl\n*044## $cno\n*08274 $a266.022 $qNO-OsNB $24/nor\n*084## $aDd 40(Jc 28) $2ubtkl/2\n*084## $aUcf $2knt\n*1001# $aSingstad, Knut N. $d1923-1996 $0(NO-TrBIB)90386146\n*24510 $aLensvik indremisjon 100 år : $b1891-1991\n*260## $a[Oslo] $bIndremisjonsselskapet $c[1991]\n*300## $a44 s. $bill.\n*500## $aForfatterens navn i forordet\n*5060# $fÅpen tilgang\n*533## $aElektronisk reproduksjon $b[Norge] $cNasjonalbiblioteket Digital $d2009-08-29\n*61027 $aLensvik indremisjon $0(NO-TrBIB)90607704 $2bare\n*651#7 $aLensvik (Agdenes) $2norbok\n*653## $aagdenes $aindremisjon $asør-trøndelag\n*662## $aNorge $bTrøndelag $cOrkland $dLensvik $2norbok\n*7102# $aLensvik indremisjon $0(NO-TrBIB)90607704\n*7102# $aIndremisjonsselskapet $0(NO-TrBIB)90149311\n*85640 $3Fulltekst $uhttp://urn.nb.no/URN:NBN:no-nb_digibok_2009072100102 $yNB digitalisert $zElektronisk reproduksjon. Gratis. For norske IP-adresser\n*85641 $3Fulltekst $uhttps://www.nb.no/search?q\u003doaiid:"oai:nb.bibsys.no:999208985724702202"\u0026mediatype\u003dbøker $yNettbiblioteket $zSøke-URL\n*85201 $a47BIBSYS_NB $6999208985724702202 $9D $9P\n*85201 $a47BIBSYS_NTNU_UB $6999208985724702203 $9P\n*901## $a90\n*913## $aNorbok $bNB\n*913## $aNorsk lokalhistorisk bibliografi $bNB',
  },
];

const mockAuthorityResponse = {
  //todo
};

export const interceptRequestsOnMock = () => {
  const mock = new MockAdapter(Axios);

  // USEFUL FOR DEBUGGING MOCKED_CALLS
  // const mockGetDelayedAndLogged = (pathPattern: string, statusCode: number, mockedResponse: any, delay = 0) => {
  //   mock.onGet(new RegExp(pathPattern)).reply((config) => {
  //     return new Promise((resolve) => {
  //       setTimeout(() => {
  //         resolve(loggedReply(config, statusCode, mockedResponse));
  //       }, delay);
  //     });
  //   });
  // };
  //
  // const loggedReply = (config: AxiosRequestConfig, statusCode: number, mockedResult: unknown) => {
  //   /* eslint-disable no-console */
  //   //console.log('MOCKED API-CALL: ', config, statusCode, mockedResult);
  //   console.log('MOCKED API-CALL: ', config.url);
  //   return [statusCode, mockedResult];
  // };

  mock.onGet(new RegExp(`${ALMA_API_URL}.*`)).reply(200, mockAlmaResponse);
  mock.onGet(new RegExp(`${AUTHORITY_API_URL}.*`)).reply(200, mockAuthorityResponse);

  // ALL OTHER
  mock.onAny().reply(function (config) {
    throw new Error('Could not find mock for ' + config.url + ', with method: ' + config.method);
  });
};
